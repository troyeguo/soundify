{"ast":null,"code":"import { LOGOUT } from \"./action\";\nimport { combineReducers } from \"redux\";\nimport axios from \"axios\";\nexport var userinitialState = {};\nexport var userReducers = function userReducers() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : userinitialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGOUT:\n      return {};\n\n    default:\n      return state;\n  }\n};\nexport function logout() {\n  return function (dispatch) {\n    axios.post(\"/logout\").then(function (resp) {\n      if (resp.status === 200) {\n        dispatch({\n          type: LOGOUT\n        });\n        message.success(\"注销成功\");\n      } else {\n        console.log(\"logout failed\", resp);\n      }\n    })[\"catch\"](function (e) {\n      console.log(\"logout failed\", e);\n    });\n  };\n}\nexport var allReducers = combineReducers({\n  user: userReducers\n}); // export default {\n//     allReducers,\n//     userinitialState\n// }\n// export default combineReducers({\n//     user: userReducers,\n// });","map":{"version":3,"sources":["D:/1-Project/soundify-web/redux/reducer/index.js"],"names":["LOGOUT","combineReducers","axios","userinitialState","userReducers","state","action","type","logout","dispatch","post","then","resp","status","message","success","console","log","e","allReducers","user"],"mappings":"AAAA,SAASA,MAAT,QAAuB,UAAvB;AACA,SAASC,eAAT,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,gBAAgB,GAAG,EAAzB;AAEP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAsC;AAAA,MAArCC,KAAqC,uEAA7BF,gBAA6B;AAAA,MAAXG,MAAW;;AAChE,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKP,MAAL;AACE,aAAO,EAAP;;AACF;AACE,aAAOK,KAAP;AAJJ;AAMD,CAPM;AASP,OAAO,SAASG,MAAT,GAAkB;AACvB,SAAO,UAACC,QAAD,EAAc;AACnBP,IAAAA,KAAK,CACFQ,IADH,CACQ,SADR,EAEGC,IAFH,CAEQ,UAACC,IAAD,EAAU;AACd,UAAIA,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACvBJ,QAAAA,QAAQ,CAAC;AACPF,UAAAA,IAAI,EAAEP;AADC,SAAD,CAAR;AAGAc,QAAAA,OAAO,CAACC,OAAR,CAAgB,MAAhB;AACD,OALD,MAKO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BL,IAA7B;AACD;AACF,KAXH,WAYS,UAACM,CAAD,EAAO;AACZF,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BC,CAA7B;AACD,KAdH;AAeD,GAhBD;AAiBD;AAED,OAAO,IAAMC,WAAW,GAAGlB,eAAe,CAAC;AACzCmB,EAAAA,IAAI,EAAEhB;AADmC,CAAD,CAAnC,C,CAIP;AACA;AACA;AACA;AAEA;AACA;AACA","sourcesContent":["import { LOGOUT } from \"./action\";\r\nimport { combineReducers } from \"redux\";\r\nimport axios from \"axios\";\r\n\r\nexport const userinitialState = {};\r\n\r\nexport const userReducers = (state = userinitialState, action) => {\r\n  switch (action.type) {\r\n    case LOGOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport function logout() {\r\n  return (dispatch) => {\r\n    axios\r\n      .post(\"/logout\")\r\n      .then((resp) => {\r\n        if (resp.status === 200) {\r\n          dispatch({\r\n            type: LOGOUT,\r\n          });\r\n          message.success(\"注销成功\");\r\n        } else {\r\n          console.log(\"logout failed\", resp);\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(\"logout failed\", e);\r\n      });\r\n  };\r\n}\r\n\r\nexport const allReducers = combineReducers({\r\n  user: userReducers,\r\n});\r\n\r\n// export default {\r\n//     allReducers,\r\n//     userinitialState\r\n// }\r\n\r\n// export default combineReducers({\r\n//     user: userReducers,\r\n// });\r\n"]},"metadata":{},"sourceType":"module"}