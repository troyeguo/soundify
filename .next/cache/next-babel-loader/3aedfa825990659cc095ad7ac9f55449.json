{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\1-Project\\\\soundify-web\\\\pages\\\\index.js\";\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { get } from \"lodash/object\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport withAuthUser from \"../utils/pageWrappers/withAuthUser\";\nimport withAuthUserInfo from \"../utils/pageWrappers/withAuthUserInfo\";\nimport logout from \"../utils/auth/logout\";\nimport styles from \"../styles/index.module.css\";\nimport FirebaseAuth from \"../components/FirebaseAuth\";\n\nvar Index = function Index(props) {\n  var AuthUserInfo = props.AuthUserInfo,\n      data = props.data;\n  var AuthUser = get(AuthUserInfo, \"AuthUser\", null);\n  var favoriteFood = data.favoriteFood;\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, __jsx(\"img\", {\n    src: \"/images/background.png\",\n    alt: \"\",\n    className: \"background\",\n    style: {\n      width: \"calc(100% - 320px)\",\n      \"float\": \"left\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: styles.logo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    className: styles.logoImg,\n    src: \"/icons/logo.png\",\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }), __jsx(\"span\", {\n    className: styles.logoText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, \"Soundify\")))), __jsx(\"div\", {\n    className: styles.enterContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, !AuthUser ? __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    className: styles.enterTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, \"Enter Soundify\"), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, __jsx(FirebaseAuth, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }\n  }))) : __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    className: styles.welcomeTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Welcome Back\"), __jsx(\"img\", {\n    className: styles.welcomeAvatar,\n    src: \"/images/avatar.jpeg\",\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }), __jsx(\"p\", {\n    className: styles.welcomeName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Troye Guo\"), __jsx(\"div\", {\n    className: styles.welcomeButton,\n    onClick: function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              try {\n                Router.push(\"/home\");\n              } catch (e) {\n                console.error(e);\n              }\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Enter Soudify\"), __jsx(\"p\", {\n    onClick: function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(logout());\n\n            case 3:\n              Router.push(\"/\");\n              _context2.next = 9;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    },\n    className: styles.signOutText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Sign out\"))));\n}; // Just an example.\n\n\nvar mockFetchData = function mockFetchData(userId) {\n  return _regeneratorRuntime.async(function mockFetchData$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt(\"return\", {\n            user: _objectSpread({}, userId && {\n              id: userId\n            }),\n            favoriteFood: \"pizza\"\n          });\n\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nIndex.getInitialProps = function _callee3(ctx) {\n  var AuthUserInfo, AuthUser, data;\n  return _regeneratorRuntime.async(function _callee3$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          // Get the AuthUserInfo object. This is set in `withAuthUser.js`.\n          // The AuthUserInfo object is available on both the server and client.\n          AuthUserInfo = get(ctx, \"myCustomData.AuthUserInfo\", null);\n          AuthUser = get(AuthUserInfo, \"AuthUser\", null); // You can also get the token (e.g., to authorize a request when fetching data)\n          // const AuthUserToken = get(AuthUserInfo, 'token', null)\n          // You can fetch data here.\n\n          _context4.next = 4;\n          return _regeneratorRuntime.awrap(mockFetchData(get(AuthUser, \"id\")));\n\n        case 4:\n          data = _context4.sent;\n          return _context4.abrupt(\"return\", {\n            data: data\n          });\n\n        case 6:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nIndex.displayName = \"Index\";\nIndex.propTypes = {\n  AuthUserInfo: PropTypes.shape({\n    AuthUser: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      email: PropTypes.string.isRequired,\n      emailVerified: PropTypes.bool.isRequired\n    }),\n    token: PropTypes.string\n  }),\n  data: PropTypes.shape({\n    user: PropTypes.shape({\n      id: PropTypes.string\n    }).isRequired,\n    favoriteFood: PropTypes.string.isRequired\n  }).isRequired\n};\nIndex.defaultProps = {\n  AuthUserInfo: null\n}; // Use `withAuthUser` to get the authed user server-side, which\n// disables static rendering.\n// Use `withAuthUserInfo` to include the authed user as a prop\n// to your component.\n\nexport default withAuthUser(withAuthUserInfo(Index));","map":{"version":3,"sources":["D:/1-Project/soundify-web/pages/index.js"],"names":["React","PropTypes","get","Link","Router","withAuthUser","withAuthUserInfo","logout","styles","FirebaseAuth","Index","props","AuthUserInfo","data","AuthUser","favoriteFood","width","logo","logoImg","logoText","enterContainer","enterTitle","welcomeTitle","welcomeAvatar","welcomeName","welcomeButton","push","e","console","error","signOutText","mockFetchData","userId","user","id","getInitialProps","ctx","displayName","propTypes","shape","string","isRequired","email","emailVerified","bool","token","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { get } from \"lodash/object\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport withAuthUser from \"../utils/pageWrappers/withAuthUser\";\nimport withAuthUserInfo from \"../utils/pageWrappers/withAuthUserInfo\";\nimport logout from \"../utils/auth/logout\";\nimport styles from \"../styles/index.module.css\";\nimport FirebaseAuth from \"../components/FirebaseAuth\";\nconst Index = (props) => {\n  const { AuthUserInfo, data } = props;\n  const AuthUser = get(AuthUserInfo, \"AuthUser\", null);\n  const { favoriteFood } = data;\n\n  return (\n    <div>\n      <img\n        src=\"/images/background.png\"\n        alt=\"\"\n        className=\"background\"\n        style={{ width: \"calc(100% - 320px)\", float: \"left\" }}\n      />\n      <div className={styles.logo}>\n        <Link href=\"/\">\n          <div>\n            <img className={styles.logoImg} src=\"/icons/logo.png\" alt=\"\" />\n            <span className={styles.logoText}>Soundify</span>\n          </div>\n        </Link>\n      </div>\n      <div className={styles.enterContainer}>\n        {!AuthUser ? (\n          <div>\n            <p className={styles.enterTitle}>Enter Soundify</p>\n            <div>\n              <FirebaseAuth />\n            </div>\n          </div>\n        ) : (\n          <div>\n            <p className={styles.welcomeTitle}>Welcome Back</p>\n            <img\n              className={styles.welcomeAvatar}\n              src=\"/images/avatar.jpeg\"\n              alt=\"\"\n            />\n            <p className={styles.welcomeName}>Troye Guo</p>\n            <div\n              className={styles.welcomeButton}\n              onClick={async () => {\n                try {\n                  Router.push(\"/home\");\n                } catch (e) {\n                  console.error(e);\n                }\n              }}\n            >\n              Enter Soudify\n            </div>\n            <p\n              onClick={async () => {\n                try {\n                  await logout();\n                  Router.push(\"/\");\n                } catch (e) {\n                  console.error(e);\n                }\n              }}\n              className={styles.signOutText}\n            >\n              Sign out\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// Just an example.\nconst mockFetchData = async (userId) => ({\n  user: {\n    ...(userId && {\n      id: userId,\n    }),\n  },\n  favoriteFood: \"pizza\",\n});\n\nIndex.getInitialProps = async (ctx) => {\n  // Get the AuthUserInfo object. This is set in `withAuthUser.js`.\n  // The AuthUserInfo object is available on both the server and client.\n  const AuthUserInfo = get(ctx, \"myCustomData.AuthUserInfo\", null);\n  const AuthUser = get(AuthUserInfo, \"AuthUser\", null);\n\n  // You can also get the token (e.g., to authorize a request when fetching data)\n  // const AuthUserToken = get(AuthUserInfo, 'token', null)\n\n  // You can fetch data here.\n  const data = await mockFetchData(get(AuthUser, \"id\"));\n\n  return {\n    data,\n  };\n};\n\nIndex.displayName = \"Index\";\n\nIndex.propTypes = {\n  AuthUserInfo: PropTypes.shape({\n    AuthUser: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      email: PropTypes.string.isRequired,\n      emailVerified: PropTypes.bool.isRequired,\n    }),\n    token: PropTypes.string,\n  }),\n  data: PropTypes.shape({\n    user: PropTypes.shape({\n      id: PropTypes.string,\n    }).isRequired,\n    favoriteFood: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nIndex.defaultProps = {\n  AuthUserInfo: null,\n};\n\n// Use `withAuthUser` to get the authed user server-side, which\n// disables static rendering.\n// Use `withAuthUserInfo` to include the authed user as a prop\n// to your component.\nexport default withAuthUser(withAuthUserInfo(Index));\n"]},"metadata":{},"sourceType":"module"}