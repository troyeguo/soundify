{"ast":null,"code":"// Your Client ID can be retrieved from your project in the Google\n// Developer Console, https://console.developers.google.com\nvar CLIENT_ID = \"60656735094-gs2cu005rnamqcas3rvi3pdcoin98bpl.apps.googleusercontent.com\";\nvar SCOPES = [\"https://www.googleapis.com/auth/drive\"];\nvar gapi = window.gapi;\nexport default new Promise(function (resolve, reject) {\n  /**\r\n   * Check if current user has authorized this application.\r\n   */\n  gapi.load(\"auth\", function () {\n    window.gapi.auth.authorize({\n      client_id: CLIENT_ID,\n      scope: SCOPES.join(\" \"),\n      immediate: true\n    }, handleAuthResult);\n  });\n\n  function doAuth() {\n    window.gapi.auth.authorize({\n      client_id: CLIENT_ID,\n      scope: SCOPES,\n      immediate: false\n    }, handleAuthResult);\n  }\n\n  function handleAuthResult(authResult) {\n    if (authResult && !authResult.error) {\n      window.gapi.client.load(\"drive\", \"v3\").then(resolve, reject);\n    } else {\n      if (authResult.error == \"immediate_failed\") {\n        doAuth();\n      } else {\n        reject(authResult);\n      }\n    }\n  }\n});","map":{"version":3,"sources":["D:/1-Project/soundify-web/utils/checkGoogleAuth.js"],"names":["CLIENT_ID","SCOPES","gapi","window","Promise","resolve","reject","load","auth","authorize","client_id","scope","join","immediate","handleAuthResult","doAuth","authResult","error","client","then"],"mappings":"AAAA;AACA;AACA,IAAIA,SAAS,GACX,yEADF;AAEA,IAAIC,MAAM,GAAG,CAAC,uCAAD,CAAb;AACA,IAAIC,IAAI,GAAGC,MAAM,CAACD,IAAlB;AACA,eAAe,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC9C;;;AAIAJ,EAAAA,IAAI,CAACK,IAAL,CAAU,MAAV,EAAkB,YAAM;AACtBJ,IAAAA,MAAM,CAACD,IAAP,CAAYM,IAAZ,CAAiBC,SAAjB,CACE;AACEC,MAAAA,SAAS,EAAEV,SADb;AAEEW,MAAAA,KAAK,EAAEV,MAAM,CAACW,IAAP,CAAY,GAAZ,CAFT;AAGEC,MAAAA,SAAS,EAAE;AAHb,KADF,EAMEC,gBANF;AAQD,GATD;;AAWA,WAASC,MAAT,GAAkB;AAChBZ,IAAAA,MAAM,CAACD,IAAP,CAAYM,IAAZ,CAAiBC,SAAjB,CACE;AAAEC,MAAAA,SAAS,EAAEV,SAAb;AAAwBW,MAAAA,KAAK,EAAEV,MAA/B;AAAuCY,MAAAA,SAAS,EAAE;AAAlD,KADF,EAEEC,gBAFF;AAID;;AAED,WAASA,gBAAT,CAA0BE,UAA1B,EAAsC;AACpC,QAAIA,UAAU,IAAI,CAACA,UAAU,CAACC,KAA9B,EAAqC;AACnCd,MAAAA,MAAM,CAACD,IAAP,CAAYgB,MAAZ,CAAmBX,IAAnB,CAAwB,OAAxB,EAAiC,IAAjC,EAAuCY,IAAvC,CAA4Cd,OAA5C,EAAqDC,MAArD;AACD,KAFD,MAEO;AACL,UAAIU,UAAU,CAACC,KAAX,IAAoB,kBAAxB,EAA4C;AAC1CF,QAAAA,MAAM;AACP,OAFD,MAEO;AACLT,QAAAA,MAAM,CAACU,UAAD,CAAN;AACD;AACF;AACF;AACF,CAlCc,CAAf","sourcesContent":["// Your Client ID can be retrieved from your project in the Google\r\n// Developer Console, https://console.developers.google.com\r\nvar CLIENT_ID =\r\n  \"60656735094-gs2cu005rnamqcas3rvi3pdcoin98bpl.apps.googleusercontent.com\";\r\nvar SCOPES = [\"https://www.googleapis.com/auth/drive\"];\r\nvar gapi = window.gapi;\r\nexport default new Promise((resolve, reject) => {\r\n  /**\r\n   * Check if current user has authorized this application.\r\n   */\r\n\r\n  gapi.load(\"auth\", () => {\r\n    window.gapi.auth.authorize(\r\n      {\r\n        client_id: CLIENT_ID,\r\n        scope: SCOPES.join(\" \"),\r\n        immediate: true,\r\n      },\r\n      handleAuthResult\r\n    );\r\n  });\r\n\r\n  function doAuth() {\r\n    window.gapi.auth.authorize(\r\n      { client_id: CLIENT_ID, scope: SCOPES, immediate: false },\r\n      handleAuthResult\r\n    );\r\n  }\r\n\r\n  function handleAuthResult(authResult) {\r\n    if (authResult && !authResult.error) {\r\n      window.gapi.client.load(\"drive\", \"v3\").then(resolve, reject);\r\n    } else {\r\n      if (authResult.error == \"immediate_failed\") {\r\n        doAuth();\r\n      } else {\r\n        reject(authResult);\r\n      }\r\n    }\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}