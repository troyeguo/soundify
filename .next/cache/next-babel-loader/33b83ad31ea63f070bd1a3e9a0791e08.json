{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport styles from \"../styles/discover.module.css\";\nimport { UserArtists, ArtistTracks } from \"react-spotify-api\";\nimport { connect } from \"react-redux\";\nimport * as actionTypes from \"../redux/action\";\n\nvar Artists = /*#__PURE__*/function (_Component) {\n  _inherits(Artists, _Component);\n\n  var _super = _createSuper(Artists);\n\n  function Artists(props) {\n    var _this;\n\n    _classCallCheck(this, Artists);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleIndex\", function (index) {\n      _this.setState({\n        currentIndex: index\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSongIndex\", function (index) {\n      _this.setState({\n        hoverIndex: index\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleNext\", function () {\n      var coverList = document.querySelector(\".discover_contentCoverList__2BhJd\");\n      var coverItems = document.getElementsByClassName(\"discover_contentCoverContainer__DrO25\");\n      console.log(coverList);\n      var style = window.getComputedStyle(coverList);\n      var right = style.getPropertyValue(\"right\");\n\n      if (parseInt(right.substr(0, right.length - 2)) > (coverItems.length - 1) * 107) {\n        return;\n      }\n\n      var newRight = \"\".concat(parseInt(right.substr(0, right.length - 2)) + 625, \"px\");\n      coverList.setAttribute(\"style\", \"right:\".concat(newRight));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePrev\", function () {\n      var coverList = document.querySelector(\".discover_contentCoverList__2BhJd\");\n      console.log(coverList);\n      var style = window.getComputedStyle(coverList);\n      var right = style.getPropertyValue(\"right\");\n\n      if (right === \"0px\") {\n        return;\n      }\n\n      var newRight = \"\".concat(parseInt(right.substr(0, right.length - 2)) - 625, \"px\");\n      coverList.setAttribute(\"style\", \"right:\".concat(newRight));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playSongHandler\", function (track, artist) {\n      console.log(track, \"track\", artist, \"playlist\");\n\n      if (artist) {\n        var uris;\n\n        if (!track) {\n          uris = JSON.stringify({\n            context_uri: artist.uri\n          });\n        } else {\n          uris = JSON.stringify({\n            context_uri: track.album.uri,\n            offset: {\n              uri: track.uri\n            }\n          });\n        }\n\n        _this.props.playSong(uris);\n      }\n    });\n\n    _this.state = {\n      currentIndex: 0,\n      hoverIndex: -1\n    };\n    return _this;\n  }\n\n  _createClass(Artists, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(\"div\", null, __jsx(\"div\", {\n        className: styles.coverParent\n      }, __jsx(\"div\", {\n        className: styles.coverContainer\n      }, __jsx(UserArtists, null, function (artists, loading, error) {\n        return artists && __jsx(\"div\", {\n          className: styles.contentCoverList\n        }, artists.artists.items.map(function (artist, index) {\n          return __jsx(\"div\", {\n            key: artist.id,\n            className: styles.contentCoverContainer,\n            onClick: function onClick() {\n              _this2.handleIndex(index);\n            }\n          }, __jsx(\"img\", {\n            src: artist.images[1].url,\n            alt: \"\",\n            className: styles.contentCover\n          }), __jsx(\"div\", {\n            className: styles.contentTitle\n          }, artist.name), _this2.state.currentIndex === index ? __jsx(\"div\", {\n            className: styles.contentSelector\n          }) : null);\n        }));\n      }))), __jsx(\"img\", {\n        src: \"/icons/more.svg\",\n        alt: \"\",\n        className: styles.nextIcon,\n        onClick: function onClick() {\n          _this2.handleNext();\n        }\n      }), __jsx(\"img\", {\n        src: \"/icons/more.svg\",\n        alt: \"\",\n        className: styles.prevIcon,\n        onClick: function onClick() {\n          _this2.handlePrev();\n        }\n      }), __jsx(UserArtists, null, function (artists, loading, error) {\n        return artists && __jsx(React.Fragment, null, __jsx(ArtistTracks, {\n          id: artists.artists.items[_this2.state.currentIndex].id\n        }, function (tracks, loading, error) {\n          return tracks && __jsx(\"div\", null, __jsx(\"div\", {\n            className: styles.contentLine\n          }), __jsx(\"img\", {\n            src: \"/icons/play_with_shadow.svg\",\n            alt: \"\",\n            className: styles.playButtonShadow,\n            onClick: function onClick() {\n              return _this2.playSongHandler(null, artists.artists.items[_this2.state.currentIndex]);\n            }\n          }), __jsx(\"ul\", {\n            className: styles.contentListContainer\n          }, __jsx(\"div\", {\n            className: styles.songListContainer\n          }, __jsx(\"div\", null, tracks.tracks.map(function (track, index) {\n            return __jsx(\"li\", {\n              key: track.name,\n              className: styles.contentList,\n              onMouseOver: function onMouseOver() {\n                _this2.handleSongIndex(index);\n              },\n              onMouseLeave: function onMouseLeave() {\n                _this2.handleSongIndex(-1);\n              }\n            }, __jsx(\"div\", {\n              className: styles.indexName\n            }, index + 1), _this2.state.hoverIndex === index ? __jsx(\"img\", {\n              src: \"/icons/play.svg\",\n              alt: \"\",\n              className: styles.listPlayIcon,\n              onClick: function onClick() {\n                return _this2.playSongHandler(track, artists.artists.items[_this2.state.currentIndex]);\n              }\n            }) : __jsx(\"img\", {\n              src: \"/icons/favorite.svg\",\n              alt: \"\",\n              className: styles.favoriteIcon\n            }), __jsx(\"div\", {\n              className: styles.trackName\n            }, track.name), __jsx(\"div\", {\n              className: styles.trackArtist\n            }, track.artists[0].name), __jsx(\"div\", {\n              className: styles.trackAlbum\n            }, track.album.name), __jsx(\"img\", {\n              src: \"/icons/more_dot.svg\",\n              alt: \"\",\n              className: styles.moreDot\n            }));\n          })))));\n        }));\n      }), __jsx(\"img\", {\n        src: \"/icons/more.svg\",\n        alt: \"\",\n        className: styles.nextIcon,\n        onClick: function onClick() {\n          _this2.handleNext();\n        }\n      }), __jsx(\"img\", {\n        src: \"/icons/more.svg\",\n        alt: \"\",\n        className: styles.prevIcon,\n        onClick: function onClick() {\n          _this2.handlePrev();\n        }\n      }));\n    }\n  }]);\n\n  return Artists;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    playSong: function playSong(uris) {\n      return dispatch(actionTypes.playSong(uris));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Artists);","map":null,"metadata":{},"sourceType":"module"}