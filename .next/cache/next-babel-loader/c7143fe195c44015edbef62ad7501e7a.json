{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from \"axios\";\nimport $axios from \"../../$axios\";\nexport const SET_USER = \"SET_USER\";\nexport const GET_RECENTLY_PLAYED = \"GET_RECENTLY_PLAYED\";\nexport const SET_RECENTLY_PLAYED = \"SET_RECENTLY_PLAYED\";\nexport const SET_PLAY_NOW = \"SET_PLAY_NOW\";\nexport const RESET_PLAY_NOW = \"RESET_PLAY_NOW\";\nexport const SET_CURRENTLY_PLAYING = \"SET_CURRENTLY_PLAYING\";\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\nexport const SET_BACKGROUND_IMAGE = \"SET_BACKGROUND_IMAGE\";\nexport const PLAY_SONG_START = \"PLAY_SONG_START\";\nexport const PLAY_SONG_SUCCESS = \"PLAY_SONG_SUCCESS\";\nexport const PLAY_SONG_FAIL = \"PLAY_SONG_FAIL\";\nexport const playSong = (uris, deviceId) => {\n  console.log(uris, \"uris\");\n  return (dispatch, getState) => {\n    if (getState().current_user) {\n      dispatch(playSongStart());\n      $axios({\n        url: `https://api.spotify.com/v1/me/player/play`,\n        method: \"PUT\",\n        // headers: {\n        //   Authorization: `Bearer ${getState().current_user.access_token}`,\n        // },\n        data: uris\n      }).then(() => {\n        dispatch(playSongSuccess());\n      }).catch(() => {\n        dispatch(playSongFail());\n      });\n    }\n  };\n};\n\nconst playSongStart = () => {\n  return {\n    type: PLAY_SONG_START\n  };\n};\n\nconst playSongSuccess = () => {\n  return {\n    type: PLAY_SONG_SUCCESS\n  };\n};\n\nconst playSongFail = () => {\n  return {\n    type: PLAY_SONG_FAIL\n  };\n};\n\nexport const pauseSong = () => {\n  return (dispatch, getState) => {\n    if (!getState().isPlaying) {\n      $axios({\n        url: \"https://api.spotify.com/v1/me/player/pause\",\n        method: \"PUT\"\n      }).then(res => {\n        dispatch(setPauseSong());\n      }).catch(err => {\n        console.error(\"Playback cannot be paused, Your playback is probably already paused\");\n      });\n    } else {\n      console.error(\"Playback cannot be paused, Your playback is probably already paused\");\n    }\n  };\n};\n\nconst setPauseSong = () => {\n  return {\n    type: SET_IS_PLAYING\n  };\n};\n\nexport const fetchRecentlyPlayed = options => {\n  console.log(options);\n  return dispatch => {\n    if (true) {\n      dispatch(getRecentlyPlayed());\n      $axios({\n        url: \"https://api.spotify.com/v1/me/player/recently-played\",\n        method: \"GET\",\n        params: _objectSpread({}, options)\n      }).then(res => {\n        console.log(res.data.items);\n        dispatch(setRecentlyPlayed(res.data.items));\n      }).catch(err => {\n        console.error(\"There was an error getting recently played tracks\");\n      });\n    }\n  };\n};\n\nconst getRecentlyPlayed = () => {\n  return {\n    type: GET_RECENTLY_PLAYED\n  };\n};\n\nconst setRecentlyPlayed = data => {\n  return {\n    type: SET_RECENTLY_PLAYED,\n    recently_played: data\n  };\n};","map":{"version":3,"sources":["D:/1-Project/soundify-web/redux/action/index.js"],"names":["axios","$axios","SET_USER","GET_RECENTLY_PLAYED","SET_RECENTLY_PLAYED","SET_PLAY_NOW","RESET_PLAY_NOW","SET_CURRENTLY_PLAYING","SET_IS_PLAYING","SET_BACKGROUND_IMAGE","PLAY_SONG_START","PLAY_SONG_SUCCESS","PLAY_SONG_FAIL","playSong","uris","deviceId","console","log","dispatch","getState","current_user","playSongStart","url","method","data","then","playSongSuccess","catch","playSongFail","type","pauseSong","isPlaying","res","setPauseSong","err","error","fetchRecentlyPlayed","options","getRecentlyPlayed","params","items","setRecentlyPlayed","recently_played"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport $axios from \"../../$axios\";\r\nexport const SET_USER = \"SET_USER\";\r\nexport const GET_RECENTLY_PLAYED = \"GET_RECENTLY_PLAYED\";\r\nexport const SET_RECENTLY_PLAYED = \"SET_RECENTLY_PLAYED\";\r\nexport const SET_PLAY_NOW = \"SET_PLAY_NOW\";\r\nexport const RESET_PLAY_NOW = \"RESET_PLAY_NOW\";\r\nexport const SET_CURRENTLY_PLAYING = \"SET_CURRENTLY_PLAYING\";\r\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\r\nexport const SET_BACKGROUND_IMAGE = \"SET_BACKGROUND_IMAGE\";\r\nexport const PLAY_SONG_START = \"PLAY_SONG_START\";\r\nexport const PLAY_SONG_SUCCESS = \"PLAY_SONG_SUCCESS\";\r\nexport const PLAY_SONG_FAIL = \"PLAY_SONG_FAIL\";\r\n\r\nexport const playSong = (uris, deviceId) => {\r\n  console.log(uris, \"uris\");\r\n  return (dispatch, getState) => {\r\n    if (getState().current_user) {\r\n      dispatch(playSongStart());\r\n      $axios({\r\n        url: `https://api.spotify.com/v1/me/player/play`,\r\n        method: \"PUT\",\r\n        // headers: {\r\n        //   Authorization: `Bearer ${getState().current_user.access_token}`,\r\n        // },\r\n        data: uris,\r\n      })\r\n        .then(() => {\r\n          dispatch(playSongSuccess());\r\n        })\r\n        .catch(() => {\r\n          dispatch(playSongFail());\r\n        });\r\n    }\r\n  };\r\n};\r\n\r\nconst playSongStart = () => {\r\n  return {\r\n    type: PLAY_SONG_START,\r\n  };\r\n};\r\n\r\nconst playSongSuccess = () => {\r\n  return {\r\n    type: PLAY_SONG_SUCCESS,\r\n  };\r\n};\r\n\r\nconst playSongFail = () => {\r\n  return {\r\n    type: PLAY_SONG_FAIL,\r\n  };\r\n};\r\n\r\nexport const pauseSong = () => {\r\n  return (dispatch, getState) => {\r\n    if (!getState().isPlaying) {\r\n      $axios({\r\n        url: \"https://api.spotify.com/v1/me/player/pause\",\r\n        method: \"PUT\",\r\n      })\r\n        .then((res) => {\r\n          dispatch(setPauseSong());\r\n        })\r\n        .catch((err) => {\r\n          console.error(\r\n            \"Playback cannot be paused, Your playback is probably already paused\"\r\n          );\r\n        });\r\n    } else {\r\n      console.error(\r\n        \"Playback cannot be paused, Your playback is probably already paused\"\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nconst setPauseSong = () => {\r\n  return {\r\n    type: SET_IS_PLAYING,\r\n  };\r\n};\r\n\r\nexport const fetchRecentlyPlayed = (options) => {\r\n  console.log(options);\r\n  return (dispatch) => {\r\n    if (true) {\r\n      dispatch(getRecentlyPlayed());\r\n      $axios({\r\n        url: \"https://api.spotify.com/v1/me/player/recently-played\",\r\n        method: \"GET\",\r\n        params: {\r\n          ...options,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          console.log(res.data.items);\r\n          dispatch(setRecentlyPlayed(res.data.items));\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"There was an error getting recently played tracks\");\r\n        });\r\n    }\r\n  };\r\n};\r\n\r\nconst getRecentlyPlayed = () => {\r\n  return {\r\n    type: GET_RECENTLY_PLAYED,\r\n  };\r\n};\r\n\r\nconst setRecentlyPlayed = (data) => {\r\n  return {\r\n    type: SET_RECENTLY_PLAYED,\r\n    recently_played: data,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}