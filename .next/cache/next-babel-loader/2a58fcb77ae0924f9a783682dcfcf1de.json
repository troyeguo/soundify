{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport $axios from \"../../$axios\";\nexport const SET_USER = \"SET_USER\";\nexport const GET_RECENTLY_PLAYED = \"GET_RECENTLY_PLAYED\";\nexport const SET_RECENTLY_PLAYED = \"SET_RECENTLY_PLAYED\";\nexport const SET_PLAY_NOW = \"SET_PLAY_NOW\";\nexport const RESET_PLAY_NOW = \"RESET_PLAY_NOW\";\nexport const SET_CURRENTLY_PLAYING = \"SET_CURRENTLY_PLAYING\";\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\nexport const SET_BACKGROUND_IMAGE = \"SET_BACKGROUND_IMAGE\";\nexport const PLAY_SONG_START = \"PLAY_SONG_START\";\nexport const PLAY_SONG_SUCCESS = \"PLAY_SONG_SUCCESS\";\nexport const PLAY_SONG_FAIL = \"PLAY_SONG_FAIL\";\nexport const playSong = (uris, deviceId) => {\n  console.log(uris, \"uris\");\n  return (dispatch, getState) => {\n    if (getState().current_user) {\n      dispatch(playSongStart());\n      $axios({\n        url: `https://api.spotify.com/v1/me/player/play`,\n        method: \"PUT\",\n        data: uris\n      }).then(() => {\n        dispatch(playSongSuccess());\n      }).catch(() => {\n        dispatch(playSongFail());\n      });\n    }\n  };\n};\n\nconst playSongStart = () => {\n  return {\n    type: PLAY_SONG_START\n  };\n};\n\nconst playSongSuccess = () => {\n  return {\n    type: PLAY_SONG_SUCCESS\n  };\n};\n\nconst playSongFail = () => {\n  return {\n    type: PLAY_SONG_FAIL\n  };\n};\n\nexport const pauseSong = () => {\n  return (dispatch, getState) => {\n    if (!getState().isPlaying) {\n      $axios({\n        url: \"https://api.spotify.com/v1/me/player/pause\",\n        method: \"PUT\"\n      }).then(res => {\n        dispatch(setPauseSong());\n      }).catch(err => {\n        console.error(\"Playback cannot be paused, Your playback is probably already paused\");\n      });\n    } else {\n      console.error(\"Playback cannot be paused, Your playback is probably already paused\");\n    }\n  };\n};\n\nconst setPauseSong = () => {\n  return {\n    type: SET_IS_PLAYING\n  };\n};\n\nexport const fetchRecentlyPlayed = options => {\n  // console.log(options);\n  return dispatch => {\n    if (true) {\n      dispatch(getRecentlyPlayed());\n      $axios({\n        url: \"https://api.spotify.com/v1/me/player/recently-played\",\n        method: \"GET\",\n        params: _objectSpread({}, options)\n      }).then(res => {\n        // console.log(res.data.items);\n        dispatch(setRecentlyPlayed(res.data.items));\n      }).catch(err => {\n        console.error(\"There was an error getting recently played tracks\");\n      });\n    }\n  };\n};\n\nconst getRecentlyPlayed = () => {\n  return {\n    type: GET_RECENTLY_PLAYED\n  };\n};\n\nconst setRecentlyPlayed = data => {\n  return {\n    type: SET_RECENTLY_PLAYED,\n    recently_played: data\n  };\n};","map":null,"metadata":{},"sourceType":"module"}