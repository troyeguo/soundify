{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport $axios from \"../../$axios\";\nexport const SET_USER = \"SET_USER\";\nexport const GET_RECENTLY_PLAYED = \"GET_RECENTLY_PLAYED\";\nexport const SET_RECENTLY_PLAYED = \"SET_RECENTLY_PLAYED\";\nexport const SET_PLAY_NOW = \"SET_PLAY_NOW\";\nexport const RESET_PLAY_NOW = \"RESET_PLAY_NOW\";\nexport const SET_CURRENTLY_PLAYING = \"SET_CURRENTLY_PLAYING\";\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\nexport const SET_BACKGROUND_IMAGE = \"SET_BACKGROUND_IMAGE\";\nexport const PLAY_SONG_START = \"PLAY_SONG_START\";\nexport const PLAY_SONG_SUCCESS = \"PLAY_SONG_SUCCESS\";\nexport const PLAY_SONG_FAIL = \"PLAY_SONG_FAIL\";\nexport const playSong = (uris, deviceId) => {\n  console.log(uris, \"uris\");\n  return (dispatch, getState) => {\n    if (getState().current_user) {\n      dispatch(playSongStart());\n      axios({\n        url: `https://api.spotify.com/v1/me/player/play`,\n        method: \"PUT\",\n        data: uris\n      }).then(() => {\n        console.log(\"playSongSuccess\");\n        dispatch(playSongSuccess());\n      }).catch(() => {\n        console.log(\"playSongFail\");\n        dispatch(playSongFail());\n      }).finally(() => {\n        console.log(\"finally\");\n      });\n    }\n  };\n};\n\nconst playSongStart = () => {\n  return {\n    type: PLAY_SONG_START\n  };\n};\n\nconst playSongSuccess = () => {\n  return {\n    type: PLAY_SONG_SUCCESS\n  };\n};\n\nconst playSongFail = () => {\n  return {\n    type: PLAY_SONG_FAIL\n  };\n};\n\nexport const pauseSong = () => {\n  return (dispatch, getState) => {\n    if (!getState().isPlaying) {\n      $axios({\n        url: \"https://api.spotify.com/v1/me/player/pause\",\n        method: \"PUT\"\n      }).then(res => {\n        dispatch(setPauseSong());\n      }).catch(err => {\n        console.error(\"Playback cannot be paused, Your playback is probably already paused\");\n      });\n    } else {\n      console.error(\"Playback cannot be paused, Your playback is probably already paused\");\n    }\n  };\n};\n\nconst setPauseSong = () => {\n  return {\n    type: SET_IS_PLAYING\n  };\n};\n\nexport const fetchRecentlyPlayed = options => {\n  console.log(options);\n  return dispatch => {\n    if (true) {\n      dispatch(getRecentlyPlayed());\n      $axios({\n        url: \"https://api.spotify.com/v1/me/player/recently-played\",\n        method: \"GET\",\n        params: _objectSpread({}, options)\n      }).then(res => {\n        console.log(res.data.items);\n        dispatch(setRecentlyPlayed(res.data.items));\n      }).catch(err => {\n        console.error(\"There was an error getting recently played tracks\");\n      });\n    }\n  };\n};\n\nconst getRecentlyPlayed = () => {\n  return {\n    type: GET_RECENTLY_PLAYED\n  };\n};\n\nconst setRecentlyPlayed = data => {\n  return {\n    type: SET_RECENTLY_PLAYED,\n    recently_played: data\n  };\n};","map":{"version":3,"sources":["D:/1-Project/soundify-web/redux/action/index.js"],"names":["$axios","SET_USER","GET_RECENTLY_PLAYED","SET_RECENTLY_PLAYED","SET_PLAY_NOW","RESET_PLAY_NOW","SET_CURRENTLY_PLAYING","SET_IS_PLAYING","SET_BACKGROUND_IMAGE","PLAY_SONG_START","PLAY_SONG_SUCCESS","PLAY_SONG_FAIL","playSong","uris","deviceId","console","log","dispatch","getState","current_user","playSongStart","axios","url","method","data","then","playSongSuccess","catch","playSongFail","finally","type","pauseSong","isPlaying","res","setPauseSong","err","error","fetchRecentlyPlayed","options","getRecentlyPlayed","params","items","setRecentlyPlayed","recently_played"],"mappings":"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","sourcesContent":["import $axios from \"../../$axios\";\r\n\r\nexport const SET_USER = \"SET_USER\";\r\nexport const GET_RECENTLY_PLAYED = \"GET_RECENTLY_PLAYED\";\r\nexport const SET_RECENTLY_PLAYED = \"SET_RECENTLY_PLAYED\";\r\nexport const SET_PLAY_NOW = \"SET_PLAY_NOW\";\r\nexport const RESET_PLAY_NOW = \"RESET_PLAY_NOW\";\r\nexport const SET_CURRENTLY_PLAYING = \"SET_CURRENTLY_PLAYING\";\r\nexport const SET_IS_PLAYING = \"SET_IS_PLAYING\";\r\nexport const SET_BACKGROUND_IMAGE = \"SET_BACKGROUND_IMAGE\";\r\nexport const PLAY_SONG_START = \"PLAY_SONG_START\";\r\nexport const PLAY_SONG_SUCCESS = \"PLAY_SONG_SUCCESS\";\r\nexport const PLAY_SONG_FAIL = \"PLAY_SONG_FAIL\";\r\n\r\nexport const playSong = (uris, deviceId) => {\r\n  console.log(uris, \"uris\");\r\n  return (dispatch, getState) => {\r\n    if (getState().current_user) {\r\n      dispatch(playSongStart());\r\n      axios({\r\n        url: `https://api.spotify.com/v1/me/player/play`,\r\n        method: \"PUT\",\r\n        data: uris,\r\n      })\r\n        .then(() => {\r\n          console.log(\"playSongSuccess\");\r\n          dispatch(playSongSuccess());\r\n        })\r\n        .catch(() => {\r\n          console.log(\"playSongFail\");\r\n          dispatch(playSongFail());\r\n        })\r\n        .finally(() => {\r\n          console.log(\"finally\");\r\n        });\r\n    }\r\n  };\r\n};\r\n\r\nconst playSongStart = () => {\r\n  return {\r\n    type: PLAY_SONG_START,\r\n  };\r\n};\r\n\r\nconst playSongSuccess = () => {\r\n  return {\r\n    type: PLAY_SONG_SUCCESS,\r\n  };\r\n};\r\n\r\nconst playSongFail = () => {\r\n  return {\r\n    type: PLAY_SONG_FAIL,\r\n  };\r\n};\r\n\r\nexport const pauseSong = () => {\r\n  return (dispatch, getState) => {\r\n    if (!getState().isPlaying) {\r\n      $axios({\r\n        url: \"https://api.spotify.com/v1/me/player/pause\",\r\n        method: \"PUT\",\r\n      })\r\n        .then((res) => {\r\n          dispatch(setPauseSong());\r\n        })\r\n        .catch((err) => {\r\n          console.error(\r\n            \"Playback cannot be paused, Your playback is probably already paused\"\r\n          );\r\n        });\r\n    } else {\r\n      console.error(\r\n        \"Playback cannot be paused, Your playback is probably already paused\"\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\nconst setPauseSong = () => {\r\n  return {\r\n    type: SET_IS_PLAYING,\r\n  };\r\n};\r\n\r\nexport const fetchRecentlyPlayed = (options) => {\r\n  console.log(options);\r\n  return (dispatch) => {\r\n    if (true) {\r\n      dispatch(getRecentlyPlayed());\r\n      $axios({\r\n        url: \"https://api.spotify.com/v1/me/player/recently-played\",\r\n        method: \"GET\",\r\n        params: {\r\n          ...options,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          console.log(res.data.items);\r\n          dispatch(setRecentlyPlayed(res.data.items));\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"There was an error getting recently played tracks\");\r\n        });\r\n    }\r\n  };\r\n};\r\n\r\nconst getRecentlyPlayed = () => {\r\n  return {\r\n    type: GET_RECENTLY_PLAYED,\r\n  };\r\n};\r\n\r\nconst setRecentlyPlayed = (data) => {\r\n  return {\r\n    type: SET_RECENTLY_PLAYED,\r\n    recently_played: data,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}