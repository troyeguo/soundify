{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport getConfig from \"next/config\";\nimport Router, { withRouter } from \"next/router\";\nimport { useSelector } from \"react-redux\";\nimport { request } from \"../lib/api\";\nimport initCache from \"../lib/clientCache\";\nimport Content from \"../components/Content\";\nconst {\n  publicRuntimeConfig\n} = getConfig();\nconst {\n  cache,\n  useCache\n} = initCache();\n\nconst Index = ({\n  userRepos,\n  starred,\n  router\n}) => {\n  // const user = useSelector((store) => store.user);\n  // const tabKey = router.query.key || \"1\";\n  // useCache(\"cache\", {\n  //   userRepos,\n  //   starred,\n  // });\n  if (!user || !user.id) {\n    // console.log(\"fase\");\n    return __jsx(\"div\", {\n      className: \"root\",\n      style: {\n        position: \"absolute\",\n        left: 200,\n        top: 100\n      }\n    }, __jsx(\"p\", null, \"\\u4EB2\\uFF0C\\u60A8\\u8FD8\\u6CA1\\u6709\\u767B\\u5F55\\u54E6\"), __jsx(\"a\", {\n      href: publicRuntimeConfig.OAUTH_URL\n    }, \"\\u70B9\\u51FB\\u767B\\u5F55\"));\n  }\n\n  const {\n    avatar_url,\n    login,\n    name,\n    bio,\n    email\n  } = user;\n  return __jsx(Content, null);\n}; // Index.getInitialProps = cache(async ({ ctx, reduxStore }) => {\n//   //判断用户是否登出\n//   // const { user } = reduxStore.getState();\n//   // if (!user || !user.id) {\n//   //   return {};\n//   // }\n// });\n\n\nexport default withRouter(Index);","map":{"version":3,"sources":["D:/1-Project/soundify-web/pages/index.js"],"names":["getConfig","Router","withRouter","useSelector","request","initCache","Content","publicRuntimeConfig","cache","useCache","Index","userRepos","starred","router","user","id","position","left","top","OAUTH_URL","avatar_url","login","name","bio","email"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,aAAtB;AACA,OAAOC,MAAP,IAAiBC,UAAjB,QAAmC,aAAnC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,OAAT,QAAwB,YAAxB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,MAAM;AAAEC,EAAAA;AAAF,IAA0BP,SAAS,EAAzC;AAEA,MAAM;AAAEQ,EAAAA,KAAF;AAASC,EAAAA;AAAT,IAAsBJ,SAAS,EAArC;;AAEA,MAAMK,KAAK,GAAG,CAAC;AAAEC,EAAAA,SAAF;AAAaC,EAAAA,OAAb;AAAsBC,EAAAA;AAAtB,CAAD,KAAoC;AAChD;AACA;AAEA;AACA;AACA;AACA;AAEA,MAAI,CAACC,IAAD,IAAS,CAACA,IAAI,CAACC,EAAnB,EAAuB;AACrB;AACA,WACE;AACE,MAAA,SAAS,EAAC,MADZ;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE,UAAZ;AAAwBC,QAAAA,IAAI,EAAE,GAA9B;AAAmCC,QAAAA,GAAG,EAAE;AAAxC;AAFT,OAIE,0EAJF,EAKE;AAAG,MAAA,IAAI,EAAEX,mBAAmB,CAACY;AAA7B,kCALF,CADF;AASD;;AAED,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,KAAd;AAAqBC,IAAAA,IAArB;AAA2BC,IAAAA,GAA3B;AAAgCC,IAAAA;AAAhC,MAA0CV,IAAhD;AAEA,SAAO,MAAC,OAAD,OAAP;AACD,CAzBD,C,CA2BA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAeZ,UAAU,CAACQ,KAAD,CAAzB","sourcesContent":["import getConfig from \"next/config\";\nimport Router, { withRouter } from \"next/router\";\nimport { useSelector } from \"react-redux\";\nimport { request } from \"../lib/api\";\nimport initCache from \"../lib/clientCache\";\nimport Content from \"../components/Content\";\nconst { publicRuntimeConfig } = getConfig();\n\nconst { cache, useCache } = initCache();\n\nconst Index = ({ userRepos, starred, router }) => {\n  // const user = useSelector((store) => store.user);\n  // const tabKey = router.query.key || \"1\";\n\n  // useCache(\"cache\", {\n  //   userRepos,\n  //   starred,\n  // });\n\n  if (!user || !user.id) {\n    // console.log(\"fase\");\n    return (\n      <div\n        className=\"root\"\n        style={{ position: \"absolute\", left: 200, top: 100 }}\n      >\n        <p>亲，您还没有登录哦</p>\n        <a href={publicRuntimeConfig.OAUTH_URL}>点击登录</a>\n      </div>\n    );\n  }\n\n  const { avatar_url, login, name, bio, email } = user;\n\n  return <Content />;\n};\n\n// Index.getInitialProps = cache(async ({ ctx, reduxStore }) => {\n//   //判断用户是否登出\n//   // const { user } = reduxStore.getState();\n//   // if (!user || !user.id) {\n//   //   return {};\n//   // }\n// });\n\nexport default withRouter(Index);\n"]},"metadata":{},"sourceType":"module"}